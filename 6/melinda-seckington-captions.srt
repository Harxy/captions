1
00:00:01,620 --> 00:00:03,632
NARRATOR: Welcome to Peer to Peer

2
00:00:03,632 --> 00:00:06,700
where you can hone your
skills by watching live coding videos.

3
00:00:08,128 --> 00:00:10,168
Our guest today is Melinda Seckington,

4
00:00:11,190 --> 00:00:16,056
She works as a Ruby developer
at FutureLearn, a social learning platform.

5
00:00:16,990 --> 00:00:19,552
Melinda co-organizes BarCap London,

6
00:00:19,560 --> 00:00:24,030
and participates regularly in
hack days, frequently winning them.

7
00:00:24,632 --> 00:00:26,968
I'm your host, Drew Neil.

8
00:00:26,960 --> 00:00:29,600
And the challenge that I set for Melinda is called...

9
00:00:29,624 --> 00:00:32,180
Building a Mechanical Turk system.

10
00:00:33,992 --> 00:00:37,184
DREW NEIL: So Melinda would you like
to start by reading the challenge.

11
00:00:37,700 --> 00:00:39,368
MELINDA SECKINGTON: Build a Mechanical Turk system.

12
00:00:39,368 --> 00:00:43,696
It should poll people for answers to yes/no
questions that are easily answered by humans

13
00:00:43,690 --> 00:00:45,288
but not by machines.

14
00:00:45,280 --> 00:00:48,264
If a certain number of people
give the same answer to a question,

15
00:00:48,264 --> 00:00:51,710
it's marked as resolved and
polling for that question ceases.

16
00:00:51,710 --> 00:00:55,536
If people give different answers to
the same question, then polling will continue

17
00:00:55,530 --> 00:00:59,480
until a consensus is reached and
that question can be marked as resolved.

18
00:00:59,500 --> 00:01:04,688
When someone has answered a question, they
may view a summary of all answers to that question,.

19
00:01:05,056 --> 00:01:06,670
DN: There's a little bit
more to the question actually.

20
00:01:06,670 --> 00:01:10,192
If you turn to the next page,
I've provided a sample question.

21
00:01:11,728 --> 00:01:14,032
MS: Is this a cat picture?

22
00:01:14,030 --> 00:01:17,456
DN: So I think most human beings
would have no trouble answering that

23
00:01:17,480 --> 00:01:21,328
Whereas it would be difficult to write
a program to give the right answer there.

24
00:01:21,328 --> 00:01:25,648
With more than 50% certainty.

25
00:01:26,600 --> 00:01:28,736
And there's another question as well.

26
00:01:28,824 --> 00:01:30,824
MS: Is this a squirrel picture?

27
00:01:30,820 --> 00:01:33,344
I think I can say no.

28
00:01:33,760 --> 00:01:34,872
DN: Right.

29
00:01:34,870 --> 00:01:38,504
So that's the kind of question I
thought we could be working with here.

30
00:01:39,440 --> 00:01:47,832
I've provided about 6 animal pictures, so
we can come up with a series of yes/no answers.

31
00:01:48,464 --> 00:01:51,144
Sorry, I mean questions where it's a yes/no answer.

32
00:01:51,344 --> 00:01:53,840
Most of them are going to be nonsense,

33
00:01:53,840 --> 00:01:57,536
but for each picture there
will be one correct answer.

34
00:01:57,536 --> 00:01:59,530
MS: Yes.

35
00:01:59,530 --> 00:02:03,560
DN: So that's what I thought we'd use as
a sample data set for this challenge.

36
00:02:05,400 --> 00:02:10,720
So, I haven't said which technology
you have to use to build this system.

37
00:02:11,080 --> 00:02:13,352
What would be your preference here?

38
00:02:14,008 --> 00:02:20,880
For me it would be Ruby and Rails
because I'm familiar with those already.

39
00:02:21,216 --> 00:02:24,840
Plus we've already got a very simple [inaudible]

40
00:02:24,840 --> 00:02:29,096
and [inaud] system so that people can [inaud]

41
00:02:30,870 --> 00:02:38,152
So, basically if we go to the log in page.

42
00:02:38,248 --> 00:02:42,072
And hit the register button.

43
00:02:42,072 --> 00:02:44,070
[inaudible]

44
00:02:44,070 --> 00:02:48,664
[Silence]

45
00:02:48,660 --> 00:02:49,696
Now we're logged in.

46
00:02:49,690 --> 00:02:51,944
DN: So it looks like a brand new rails app.

47
00:02:51,940 --> 00:02:53,032
MS: Yes.

48
00:02:53,030 --> 00:02:53,872
[They both talk at once]

49
00:02:53,870 --> 00:02:57,920
DN: [inaud] it already has a red
register route and a log in route.

50
00:02:57,920 --> 00:02:59,920
So if we go to log in again...

51
00:03:00,128 --> 00:03:04,904
You will be redirected to the main
page because you're already logged in.

52
00:03:04,900 --> 00:03:07,576
DN: So it can detect that
you're logged in, it remembers you.

53
00:03:07,776 --> 00:03:10,248
And, can you log out as well?

54
00:03:10,240 --> 00:03:13,496
MS: Yes, you just hit log out.

55
00:03:14,512 --> 00:03:18,736
Which you can't really see but you
can hit the log in page and log in again.

56
00:03:18,730 --> 00:03:22,272
So it's very very basic.

57
00:03:22,270 --> 00:03:25,464
DN: [inaud] we don't even have passwords.

58
00:03:25,460 --> 00:03:28,424
No its really basic.

59
00:03:28,420 --> 00:03:32,088
DN: Well that's fine, that's not going to be
an interesting part of this challenge I think.

60
00:03:32,080 --> 00:03:35,304
[New Chapter]

61
00:03:35,576 --> 00:03:42,080
MS: So, where to start.  It's a Mechanical
Turk system so we've got people... users.

62
00:03:43,568 --> 00:03:49,304
And we want to show each
user the questions that we have.

63
00:03:50,680 --> 00:03:56,560
So let's start with looking
at creating these questions.

64
00:03:58,392 --> 00:04:02,080
Each question will have an image.

65
00:04:02,620 --> 00:04:06,288
That's showing us the cat picture.

66
00:04:08,320 --> 00:04:12,272
Text, I guess, like... is this a cat picture

67
00:04:13,336 --> 00:04:15,856
So I guess let's start there.

68
00:04:15,850 --> 00:04:24,312
[Silence]

69
00:04:24,310 --> 00:04:27,056
Let's take the image.

70
00:04:28,600 --> 00:04:32,040
DN: So the string is going to
be a URL from where it listed it.

71
00:04:32,040 --> 00:04:33,280
MS: Yes.

72
00:04:33,280 --> 00:04:35,592
DN: In a public directory probably.

73
00:04:37,220 --> 00:04:43,872
Let's do... description.

74
00:04:45,416 --> 00:04:50,304
And string as well, because we don't want that to be too long.

75
00:04:50,850 --> 00:04:55,912
DN: So the challenge doesn't ask you to create
an admin area where people can create questions,

76
00:04:55,912 --> 00:05:00,360
We're going to pre-populate
the system with some questions?

77
00:05:00,360 --> 00:05:02,072
MS: Yes.

78
00:05:02,070 --> 00:05:04,016
So we want to...

79
00:05:04,010 --> 00:05:07,872
[Silence]

80
00:05:07,870 --> 00:05:12,904
This can be used [inaud] so that we can use db:seed.

81
00:05:13,200 --> 00:05:14,900
So I'll load that in.

82
00:05:16,224 --> 00:05:18,992
So I want to use the seeds [inaud]

83
00:05:18,992 --> 00:05:22,216
[Silence]

84
00:05:22,210 --> 00:05:29,424
DN: So this is just a plain Ruby file. It will
load the environments and then create models.

85
00:05:29,420 --> 00:05:30,016
MS: Yes.

86
00:05:30,010 --> 00:05:33,496
DN: And then you can
execute this file with a rake task.

87
00:05:34,072 --> 00:05:35,632
MS: Yes.

88
00:05:37,400 --> 00:05:40,104
Let me just set up our questions.

89
00:05:43,528 --> 00:05:48,384
So very simply we want to do question.create.

90
00:05:48,380 --> 00:05:55,952
[Silence]

91
00:05:55,960 --> 00:05:57,736
[Inaudible]

92
00:05:57,736 --> 00:06:01,816
[Silence]

93
00:06:01,810 --> 00:06:09,904
So we have, what did we say
before... image and... description.

94
00:06:09,904 --> 00:06:15,528
That would be the very very simple way of [inaud] it.

95
00:06:15,520 --> 00:06:18,832
But we want to do something
a little bit smarter I think.

96
00:06:22,136 --> 00:06:24,632
[inaud] the image is somewhere.

97
00:06:24,630 --> 00:06:30,008
DN: Yes, I gave them to you with your challenge,
but I don't think they're in your rails app yet.

98
00:06:30,000 --> 00:06:32,416
MS: No they're not.

99
00:06:33,488 --> 00:06:38,528
DN: When I first created these
images, I named them dog.jpeg, cat.jpeg

100
00:06:38,520 --> 00:06:43,280
And then I realised that was a little
opinionated so I changed it to 'Animal 1', 'Animal 2'...

101
00:06:43,280 --> 00:06:47,104
[Melinda thinks]

102
00:06:47,100 --> 00:06:49,704
MS: Yes, let's just throw them in the public.

103
00:06:51,552 --> 00:06:56,360
They'll maybe come up in a lesser place later

104
00:06:56,360 --> 00:07:04,408
[Silence]

105
00:07:04,400 --> 00:07:07,016
How do you loop through numbers again... times.

106
00:07:07,010 --> 00:07:12,920
[Silence]

107
00:07:12,976 --> 00:07:14,920
I'll double check the [inaud]

108
00:07:14,920 --> 00:07:18,272
It would be Ruby times rather than...

109
00:07:18,270 --> 00:07:26,272
[Silence]

110
00:07:26,270 --> 00:07:30,208
DN: That's a great way of finding
documentation, is that something to do with Alfred.

111
00:07:30,200 --> 00:07:32,160
MS: Yes so...

112
00:07:32,160 --> 00:07:35,752
DN: So you've got it searching rails documentation.

113
00:07:35,750 --> 00:07:40,728
MS: Yes, it's a work flow that's called Dev Doctor.

114
00:07:40,720 --> 00:07:46,696
And it's not just for rails, it's for most
programming language that you can think of.

115
00:07:47,088 --> 00:07:48,216
DN: Oh that's good.

116
00:07:48,210 --> 00:07:50,576
MS: Yes, it's really handy.

117
00:07:52,120 --> 00:07:54,408
Yes I was right.

118
00:07:54,400 --> 00:07:57,488
I have to question myself sometimes.

119
00:07:57,480 --> 00:08:19,256
[Silence]

120
00:08:19,250 --> 00:08:20,976
DN: Oh that's...

121
00:08:21,072 --> 00:08:25,056
MS: Yes, sublime, like soup, try to open

122
00:08:25,568 --> 00:08:28,752
DN: [inaud]

123
00:08:30,880 --> 00:08:40,960
DN: They could be called Animal-1.jpeg, Animal-2...
I guess six times is going to be 0 to 5, isn't it?

124
00:08:40,960 --> 00:08:42,720
MS: Yes.

125
00:08:42,720 --> 00:09:08,216
[Silence]

126
00:09:08,210 --> 00:09:14,216
I'm sure we can make this smarter, in the sense that...

127
00:09:15,968 --> 00:09:18,584
Well, I guess what we can do here is...

128
00:09:18,580 --> 00:09:27,232
[Silence]

129
00:09:27,230 --> 00:09:29,728
Which animal shall we actually have?

130
00:09:31,136 --> 00:09:32,752
DN: That's a good question.

131
00:09:32,750 --> 00:09:35,648
Hedgehog, Squirrel , Goat...

132
00:09:36,104 --> 00:09:38,736
DN: Yes, let's Goat!

133
00:09:38,736 --> 00:09:40,730
MS: So...

134
00:09:40,730 --> 00:10:06,112
[Silence]

135
00:10:06,110 --> 00:10:09,192
Dog, Cat, Cow...

136
00:10:10,360 --> 00:10:15,056
DN: You're definitely not a
machine, you make that look easy.

137
00:10:15,050 --> 00:10:46,008
[Silence]

138
00:10:46,000 --> 00:10:48,512
So... I want to do that.

139
00:10:51,560 --> 00:10:54,496
Two times.

140
00:10:55,232 --> 00:11:00,776
So now we then get [inaud] for every single animal.

141
00:11:03,790 --> 00:11:08,576
Basically for every image we create six questions

142
00:11:08,584 --> 00:11:12,792
asking whether or not it's
all the other animals as well.

143
00:11:12,790 --> 00:11:14,056
DN: OK.

144
00:11:14,064 --> 00:11:15,480
MS: So I think this should work.

145
00:11:15,480 --> 00:11:17,592
DN: So we'll end up with 36.

146
00:11:17,752 --> 00:11:20,528
MS: Yes, 36 questions.

147
00:11:21,800 --> 00:11:23,792
DN: Where most of them are wrong answers.

148
00:11:23,808 --> 00:11:25,720
MS: Yes.

149
00:11:26,608 --> 00:11:30,288
So let's see...

150
00:11:30,280 --> 00:11:32,848
[inaud] first because we haven't done that before.

151
00:11:36,328 --> 00:11:38,928
I only hope that this doesn't blow up.

152
00:11:38,920 --> 00:11:47,648
[Silence]

153
00:11:47,640 --> 00:11:50,032
36, how about that!

154
00:11:50,864 --> 00:11:53,168
And then [inaud] the

155
00:11:54,144 --> 00:11:56,496
No, I don't call them [inaud] image.

156
00:11:59,200 --> 00:12:01,968
We should have 6 of each of them.

157
00:12:01,960 --> 00:12:09,144
[Silence]

158
00:12:09,140 --> 00:12:11,832
DN: Is this a hedgehog, is this a squirrel, goat

159
00:12:12,592 --> 00:12:15,088
MS: And I forgot to put a question mark at the end.

160
00:12:16,950 --> 00:12:20,136
DN: Well you could even hard
code that. It is a question.

161
00:12:22,240 --> 00:12:26,960
DN: I could do that... so let's just delete them all again.

162
00:12:27,016 --> 00:12:33,536
[Silence]

163
00:12:33,530 --> 00:12:36,440
MS: I'll just analyze the question [inaud].

164
00:12:36,440 --> 00:12:56,344
[Silence]

165
00:12:56,340 --> 00:12:57,888
There we go, that's nicer.

166
00:12:58,016 --> 00:12:59,880
DN: That does look nice.

167
00:13:01,080 --> 00:13:02,080
[inaud]

168
00:13:02,184 --> 00:13:05,840
It feels like being in a car with a toddler. [laughter]

169
00:13:09,216 --> 00:13:16,568
So next up is, we want to display these to a user.

170
00:13:16,560 --> 00:13:20,488
[Melinda thinks]

171
00:13:20,696 --> 00:13:23,144
DN: Is that worth a commit do you think?

172
00:13:23,140 --> 00:13:25,992
MS: Yes, it is, I keep forgetting that.

173
00:13:29,184 --> 00:13:33,408
We've got [inaud], seeds and then a question.

174
00:13:33,400 --> 00:13:44,768
[Silence]

175
00:13:45,368 --> 00:13:48,600
[New Chapter}

176
00:13:49,544 --> 00:13:53,424
DN: OK, so we've got the question
model, what do you want to do next?

177
00:13:55,360 --> 00:14:00,928
MS: The next thing is
displaying the questions to users.

178
00:14:01,456 --> 00:14:07,872
So we want to, I guess, show the image and the question,

179
00:14:07,870 --> 00:14:10,384
like... is this a hedgehog, is this a squirrel?

180
00:14:12,000 --> 00:14:14,920
And then maybe not quite yet...

181
00:14:15,660 --> 00:14:21,032
do the logic of allowing a user to answer yes or no.

182
00:14:21,390 --> 00:14:23,816
but maybe creating fake buttons initially,

183
00:14:23,832 --> 00:14:32,080
so we just display here's the image,
here's the question, and here are the buttons.

184
00:14:33,784 --> 00:14:35,808
Here I guess we need to figure out,

185
00:14:37,296 --> 00:14:39,400
how does the user get to these?

186
00:14:42,696 --> 00:14:44,184
DN:I suppose we could have...

187
00:14:44,184 --> 00:14:48,792
when the user logs in the route page
could be a list of questions to begin with,

188
00:14:49,160 --> 00:14:53,312
and each item in the list
would be a link to the question itself.

189
00:14:54,120 --> 00:14:57,312
MS: Yes, that's probably the easiest way to do it.

190
00:14:58,784 --> 00:15:00,992
OK, hmm...

191
00:15:03,624 --> 00:15:07,848
So let's go to our route file and start with that.

192
00:15:10,344 --> 00:15:12,496
So we...

193
00:15:12,490 --> 00:15:17,104
basically we want the route
of the page to be linked to the...

194
00:15:19,888 --> 00:15:21,424
to our questions.

195
00:15:21,420 --> 00:15:24,072
DN: So it's a questions index really.
MS: Yes.

196
00:15:26,064 --> 00:15:31,008
And we also want resources as questions.

197
00:15:32,580 --> 00:15:34,776
Well, our questions to resources.

198
00:15:35,176 --> 00:15:37,584
and then  I always like doing this...

199
00:15:38,736 --> 00:15:44,016
To make sure that we are only
influencing the actions that we are using,

200
00:15:44,160 --> 00:15:48,344
rather than getting all 6 of
them and leaving those in place.

201
00:15:49,032 --> 00:15:53,848
DN: And in any case we don't want the
system to allow you to create questions... not yet.

202
00:15:54,240 --> 00:15:57,504
MS: No, so only the index can show for now.

203
00:16:00,544 --> 00:16:03,528
So let's make our questions controller.

204
00:16:03,520 --> 00:16:22,624
[Silence]

205
00:16:22,968 --> 00:16:25,664
As I said before, we have index...

206
00:16:28,000 --> 00:16:29,368
and show...

207
00:16:31,688 --> 00:16:35,104
DN: I notice you use a rails
generator when you're creating a model.

208
00:16:35,448 --> 00:16:38,528
[inaud] of creating a controller... is that normal?

209
00:16:38,992 --> 00:16:42,336
Uhm... [Melinda thinks]

210
00:16:42,624 --> 00:16:45,440
MS: I'm not sure I do that actually.

211
00:16:45,744 --> 00:16:50,024
Uhm... [Melinda] thinks again]

212
00:16:50,020 --> 00:16:55,296
Yes, I guess because I know
exactly what comes back when I...

213
00:16:57,256 --> 00:17:00,800
use generate model,

214
00:17:00,800 --> 00:17:05,728
and I always feel that with generate
controller I get more than I want.

215
00:17:05,752 --> 00:17:10,984
DN: Yes, it generates the asset
files, [inaud], JavaScripts and so on.

216
00:17:10,980 --> 00:17:13,400
MS: Yes, normally it's like...

217
00:17:13,744 --> 00:17:17,680
DN: More [inaud] that what you want.
MS Yes.

218
00:17:18,136 --> 00:17:21,376
And again I'm guessing there's an easier way

219
00:17:22,050 --> 00:17:27,232
specify which things you exactly
want when you generate the controller.

220
00:17:27,288 --> 00:17:31,944
But.. I kind of like having a
bit more control over it myself

221
00:17:31,952 --> 00:17:35,744
and being able to see when I'm adding [inaud]

222
00:17:36,448 --> 00:17:37,272
DN: Yes, sure.

223
00:17:37,270 --> 00:17:43,728
MS: While with a model you
get the rspec file, the user file and...

224
00:17:43,856 --> 00:17:47,376
[The migration is not meant to be on there]

225
00:17:47,920 --> 00:17:50,248
DN: So the model generator
gives you exactly what you want,

226
00:17:50,264 --> 00:17:53,050
and you think the controller
generator gives you too much.

227
00:17:53,050 --> 00:17:55,600
MS: Yes, pretty much. [Laughter]

228
00:17:55,608 --> 00:17:57,150
DN: Yes, I can relate to that.

229
00:17:58,752 --> 00:18:02,560
So let's create [inaudible] for that as well.

230
00:18:04,616 --> 00:18:07,120
So questions.

231
00:18:08,016 --> 00:18:10,552
And in here we have...

232
00:18:12,136 --> 00:18:14,352
I'll have to say index.

233
00:18:14,350 --> 00:18:24,688
[Silence]

234
00:18:25,760 --> 00:18:27,800
It won't show.

235
00:18:29,608 --> 00:18:30,976
So...

236
00:18:33,472 --> 00:18:37,176
Index is going to grab all
the questions that we have.

237
00:18:37,170 --> 00:18:43,912
[Silence]

238
00:18:45,040 --> 00:18:46,664
Here.

239
00:18:46,660 --> 00:18:48,472
DN: That should be fine.

240
00:18:50,128 --> 00:18:55,944
I realise I never use the [inaud] with so much more data.

241
00:18:56,088 --> 00:18:59,296
We don't need to patch any [inaud].

242
00:18:59,624 --> 00:19:18,970
[Silence]

243
00:19:19,576 --> 00:19:24,288
MS: So let's just show the description first.

244
00:19:27,136 --> 00:19:29,944
That should just show up here... No.

245
00:19:31,940 --> 00:19:38,576
[Silence]

246
00:19:43,440 --> 00:19:45,280
DN: Lovely.

247
00:19:45,376 --> 00:19:47,620
MS: All the questions.

248
00:19:47,620 --> 00:19:50,040
So let's make a little nicer.

249
00:19:50,050 --> 00:20:11,880
[Silence]

250
00:20:12,392 --> 00:20:16,144
And let's link to...

251
00:20:20,112 --> 00:20:22,360
Now what do we call that?

252
00:20:22,360 --> 00:20:28,000
[Silence]

253
00:20:28,328 --> 00:20:31,216
[inaud]

254
00:20:31,220 --> 00:20:41,592
[Silence]

255
00:20:42,760 --> 00:20:45,368
So do we want to show the image on this page already?

256
00:20:45,368 --> 00:20:47,848
DN: I think that would get a bit busy.

257
00:20:48,360 --> 00:20:52,744
Maybe even you shouldn't show the text.

258
00:20:52,740 --> 00:20:55,616
Maybe it should be like, question 1, question 2.

259
00:20:55,880 --> 00:20:58,176
MS: Yes, we could even change it to that.

260
00:20:58,888 --> 00:21:01,416
It makes it a bit more serious... what we're going to get.

261
00:21:01,410 --> 00:21:05,152
[Silence]

262
00:21:05,600 --> 00:21:09,088
DN: I guess they have IDs already
don't they which will [inaud] sequential

263
00:21:09,088 --> 00:21:11,080
MS: Yes.

264
00:21:11,080 --> 00:21:23,168
[Silence]

265
00:21:25,192 --> 00:21:31,816
Yes, they are sequential but
because we did the seed test twice,

266
00:21:32,608 --> 00:21:34,536
they're not going to [inaud]

267
00:21:34,536 --> 00:21:36,530
DN: That doesn't matter does it?
MS: No.

268
00:21:36,856 --> 00:21:41,984
But it might be nicer if
they were, so we can do instead...

269
00:21:44,264 --> 00:21:46,600
I'll just change this to...

270
00:21:47,496 --> 00:21:50,536
each_with_index

271
00:21:51,456 --> 00:21:57,976
It's for the user that we're displaying what
question number it is, showing on the page itself.

272
00:21:57,970 --> 00:22:02,080
[Silence]

273
00:22:02,584 --> 00:22:04,144
Don't want to do it that way.

274
00:22:05,448 --> 00:22:08,288
[Inaudible]

275
00:22:11,456 --> 00:22:12,648
There we go.

276
00:22:12,640 --> 00:22:13,568
DN: That looks good.

277
00:22:13,560 --> 00:22:16,368
And maybe [inaud] that we don't have.

278
00:22:17,264 --> 00:22:19,024
DN: Question zero.
MS: Yes.

279
00:22:19,410 --> 00:22:23,408
DN: Question zero [inaud],
my science teacher always did that.

280
00:22:24,568 --> 00:22:27,128
MS: Yes mine [inaud]

281
00:22:27,480 --> 00:22:31,488
So, clicking on here won't do
anything because we don't have a show yet.

282
00:22:32,670 --> 00:22:36,984
We have a show, but I think we'll just leave...

283
00:22:38,272 --> 00:22:39,920
that way.

284
00:22:42,144 --> 00:22:46,592
So on this page... [Melinda thinks]

285
00:22:48,632 --> 00:22:50,944
Someone [inaud] a question.

286
00:22:50,940 --> 00:23:10,920
[Silence]

287
00:23:11,384 --> 00:23:14,480
Let's just [inaud] for now, plus the work.

288
00:23:15,616 --> 00:23:19,352
Yes, it would if I did that [inaud]

289
00:23:22,496 --> 00:23:26,904
So we should check the descriptions.

290
00:23:29,424 --> 00:23:30,768
Is this a hedgehog.

291
00:23:34,260 --> 00:23:38,552
I must look that up, I always forget.

292
00:23:38,552 --> 00:23:53,800
[Silence]

293
00:23:54,440 --> 00:23:56,664
[inaud] hash tag.

294
00:23:58,488 --> 00:23:59,952
And then I can...

295
00:23:59,950 --> 00:24:05,112
[Silence]

296
00:24:05,488 --> 00:24:07,120
I'll say that first.

297
00:24:07,128 --> 00:24:11,200
[Silence]

298
00:24:11,600 --> 00:24:13,872
Its not called URL, it's called image.

299
00:24:15,936 --> 00:24:18,376
DN: Ah... Close.

300
00:24:21,192 --> 00:24:23,824
MS: So because we've put it in the public...

301
00:24:23,820 --> 00:24:27,296
DN: Yes, is it assuming that
it's in the assets directory?

302
00:24:27,290 --> 00:24:30,784
MS: Yes, I think it is.

303
00:24:33,032 --> 00:24:35,624
So let's move it to the assets directory.

304
00:24:35,620 --> 00:24:48,040
[Silence]

305
00:24:48,576 --> 00:24:50,352
DN: OK.

306
00:24:50,880 --> 00:24:55,064
So this [inaud] work because we need to specify...

307
00:24:55,060 --> 00:25:05,072
[Silence]

308
00:25:05,552 --> 00:25:07,696
DN: I thought that assumption was built in?

309
00:25:11,360 --> 00:25:13,624
MS: I'm not sure it is.

310
00:25:14,400 --> 00:25:17,696
DN: [inaud] to actually look at the HDL source.

311
00:25:17,690 --> 00:25:23,208
[Silence]

312
00:25:23,648 --> 00:25:26,128
DN: It's missing .jpeg.

313
00:25:27,776 --> 00:25:28,776
MS: Yes, it is.

314
00:25:28,770 --> 00:25:34,072
DN: In fact, did you move the images or
copy them. Are they still in the public directory?

315
00:25:36,272 --> 00:25:38,424
MS: I think I might have copied them... yes.

316
00:25:38,856 --> 00:25:42,304
DN: Well that's good because
that's where it's looking for them.

317
00:25:42,512 --> 00:25:44,928
MS: So if we change this...

318
00:25:47,664 --> 00:25:49,904
DN: Ah, there's no E.

319
00:25:50,920 --> 00:25:52,496
That's it.

320
00:25:54,624 --> 00:26:00,112
MS: [inaud] we're not using that at
all but just adding .jpeg behind it.

321
00:26:03,890 --> 00:26:09,176
I guess I left that out during the seeds.

322
00:26:10,216 --> 00:26:13,520
I didn't actually put that in.

323
00:26:13,520 --> 00:26:15,472
DN: Regenerate them.
MS: Yes.

324
00:26:15,920 --> 00:26:17,470
[inaud]

325
00:26:17,470 --> 00:26:28,776
[Silence]

326
00:26:29,392 --> 00:26:31,936
[inaud] previous ones.

327
00:26:31,944 --> 00:26:45,576
[Silence]

328
00:26:46,472 --> 00:26:48,936
DN: Oh, I think you left the quote.

329
00:26:48,930 --> 00:26:55,440
[Silence]

330
00:26:55,440 --> 00:26:57,440
There we go.

331
00:26:59,248 --> 00:27:01,328
DN: Do you think the image is a bit big?

332
00:27:01,384 --> 00:27:03,016
MS: Yes.

333
00:27:05,680 --> 00:27:10,024
I think we could do that with
size. Ah... just width and height.

334
00:27:11,576 --> 00:27:16,360
I made use all the images are the same
width, but they do vary slightly in height.

335
00:27:16,360 --> 00:27:18,936
MS: Right, so let's set the width.

336
00:27:18,930 --> 00:27:23,792
[Silence]

337
00:27:23,790 --> 00:27:26,256
300... yes that looks good.

338
00:27:28,650 --> 00:27:30,744
DN: That looks good.

339
00:27:31,088 --> 00:27:34,000
MS: Let's clean this up a bit.

340
00:27:34,000 --> 00:27:43,432
[Silence]

341
00:27:43,430 --> 00:27:46,824
[They both speak at once]

342
00:27:46,820 --> 00:27:50,944
[Silence]

343
00:27:51,104 --> 00:27:58,310
DN: I guess the form with the yes/no answers would be [inaud].

344
00:27:58,450 --> 00:28:04,072
MS: Here at the top let's add
a link back to all the questions.

345
00:28:04,088 --> 00:28:15,872
[Silence]

346
00:28:15,870 --> 00:28:17,776
DN: OK.

347
00:28:17,776 --> 00:28:19,770
MS: There we go.

348
00:28:19,770 --> 00:28:26,040
[Silence]

349
00:28:29,024 --> 00:28:32,896
DN: I'm sure some of them are [laughter].

350
00:28:34,528 --> 00:28:36,752
Is that a good place to check in do you think?

351
00:28:36,928 --> 00:28:38,750
MS: Yes.

352
00:28:42,712 --> 00:28:49,256
So we don't actually need these,
because in the end we did just find it.

353
00:28:49,250 --> 00:28:55,192
[Silence]

354
00:28:55,190 --> 00:29:03,200
So allow users to see questions.

355
00:29:03,200 --> 00:29:08,000
[Silence]

356
00:29:08,320 --> 00:29:11,208
[New Chapter]

357
00:29:12,392 --> 00:29:15,504
DN: So I guess next we have the yes/no to do.

358
00:29:15,500 --> 00:29:22,648
Would that be a yes button and a no button,
or would it be a radio button with yes and no [inaud]?

359
00:29:22,640 --> 00:29:26,472
[Melinda thinks]

360
00:29:26,470 --> 00:29:30,320
MS: I think a radio button would be nicer.

361
00:29:32,544 --> 00:29:37,904
How do we do that again? [laughter] Let's have a look.

362
00:29:39,216 --> 00:29:40,496
[inaud]

363
00:29:40,490 --> 00:30:13,856
[Silence]

364
00:30:14,880 --> 00:30:17,488
DN: Now there's a thought, what is it a form for?

365
00:30:17,880 --> 00:30:21,400
When we submit this form
what actually happens in the system.

366
00:30:22,690 --> 00:30:26,616
MS: Yes, so we haven't really looked at that yet.

367
00:30:26,970 --> 00:30:36,832
But, I'm thinking we basically want a new
level that lies between the questions and the users.

368
00:30:40,136 --> 00:30:44,360
We could call it user
questions but that seems wrong.

369
00:30:44,752 --> 00:30:46,880
But, maybe just answers.

370
00:30:46,880 --> 00:30:51,496
So an answers model that
belongs to a user and to a question.

371
00:30:52,272 --> 00:30:54,120
Let's see if that [inaud] now.

372
00:30:54,120 --> 00:30:59,864
[Melinda thinks]

373
00:30:59,860 --> 00:31:03,056
So rails join...

374
00:31:05,944 --> 00:31:08,000
This doesn't actually show anything.

375
00:31:08,000 --> 00:31:30,192
[Silence]

376
00:31:30,992 --> 00:31:35,592
Its weird, I know what I'm looking for
but I don't know what words I'm looking for.

377
00:31:40,072 --> 00:31:47,200
Is there a through keyword that you can use on, like...

378
00:31:47,744 --> 00:31:54,360
to join the users to the
questions through the join table?

379
00:31:54,360 --> 00:32:00,696
[Silence]

380
00:32:00,696 --> 00:32:02,690
That's maybe through.

381
00:32:02,690 --> 00:32:12,728
[Silence]

382
00:32:13,030 --> 00:32:16,824
DN: So in our case, appointments is like an answer,

383
00:32:16,888 --> 00:32:23,544
physicians and patients are
like users and questions, in a sense.

384
00:32:24,264 --> 00:32:26,120
MS: Yes.

385
00:32:26,432 --> 00:32:29,240
Yes, they are. [laughter]

386
00:32:32,180 --> 00:32:38,664
I normally use the generate function to create this...

387
00:32:46,568 --> 00:32:53,880
So we want announcer to have...

388
00:32:53,880 --> 00:32:57,728
A [inaud] value for yes or no.

389
00:32:58,750 --> 00:33:01,784
DN: Can we call it response perhaps.
MS: Yes, that's a good idea.

390
00:33:01,808 --> 00:33:09,312
[Silence]

391
00:33:09,310 --> 00:33:21,648
And then we want it to belong to both
the questions and to the (other one)...users.

392
00:33:23,792 --> 00:33:25,248
DN: Do you want that comma?

393
00:33:25,240 --> 00:33:26,496
MS: No you don't.

394
00:33:26,490 --> 00:33:31,656
[Silence]

395
00:33:31,650 --> 00:33:34,592
DN: I think if you do user, colon, reference...

396
00:33:34,590 --> 00:33:43,336
[Silence]

397
00:33:43,330 --> 00:33:46,744
Or it might be references, I don't quite remember.

398
00:33:46,740 --> 00:34:09,840
[Silence]

399
00:34:09,840 --> 00:34:11,840
MS: Yes, I just realised.

400
00:34:11,840 --> 00:34:16,216
[Silence]

401
00:34:16,210 --> 00:34:17,808
So we had a response, we have...

402
00:34:18,912 --> 00:34:22,776
the relationship to the user and the
question, and we don't' need anything else, right?

403
00:34:22,770 --> 00:34:24,864
DN: No, that looks good.

404
00:34:24,860 --> 00:34:35,928
[Silence]

405
00:34:35,920 --> 00:34:41,520
Right so... your answer
belongs to a user and a question.

406
00:34:44,072 --> 00:34:46,128
So we just want to have...

407
00:34:49,272 --> 00:34:51,360
answers...

408
00:34:51,360 --> 00:34:58,432
[Silence]

409
00:34:58,430 --> 00:35:03,568
questions through answers

410
00:35:03,560 --> 00:35:05,808
but also I need [inaud] answers.

411
00:35:06,160 --> 00:35:07,800
DN: Right.

412
00:35:07,800 --> 00:35:13,632
[Silence]

413
00:35:13,630 --> 00:35:16,568
[inaud] progressions this has.

414
00:35:16,560 --> 00:35:20,416
[Silence]

415
00:35:20,410 --> 00:35:25,264
And the answers this has... many.

416
00:35:25,744 --> 00:35:26,912
Users...

417
00:35:26,910 --> 00:35:39,480
[Silence]

418
00:35:39,696 --> 00:35:41,280
DN: That looks good.

419
00:35:44,568 --> 00:35:46,944
MS: So we now have that model.

420
00:35:50,608 --> 00:35:53,072
DN: Is that worth a commit do you think?

421
00:35:54,200 --> 00:35:55,656
Or is it not worth a commit?

422
00:35:55,650 --> 00:35:58,184
MS: Ahh... maybe.

423
00:35:59,416 --> 00:36:03,192
Yes, I think it is, its fallen off, but...

424
00:36:03,190 --> 00:36:16,896
[Silence]

425
00:36:16,976 --> 00:36:20,328
[New Chapter]

426
00:36:21,220 --> 00:36:27,896
MS: Right, so I guess that next
up is allowing users to click yes or no,

427
00:36:27,896 --> 00:36:31,568
and then recording their response.

428
00:36:31,656 --> 00:36:38,670
[Melinda thinks]

429
00:36:40,488 --> 00:36:44,608
Do do this nicely we need...

430
00:36:45,056 --> 00:36:48,088
one is an answers controller.

431
00:36:48,744 --> 00:36:50,376
DN: Right.

432
00:36:50,470 --> 00:36:53,680
MS: Which... all it does is create...

433
00:36:55,100 --> 00:37:00,504
[well records], the yes or no answer.

434
00:37:03,480 --> 00:37:05,432
So we can...

435
00:37:06,808 --> 00:37:11,400
So... basically we want our answers to be...

436
00:37:11,400 --> 00:37:15,584
[Silence]

437
00:37:16,088 --> 00:37:18,880
I'm trying to think what is
the best way of modeling this.

438
00:37:20,448 --> 00:37:24,528
DN: If it was a nested resource, then the URL for

439
00:37:25,720 --> 00:37:31,064
say you post [they both talk together]

440
00:37:31,544 --> 00:37:36,600
MS: And we also know who the user
is, because they're logged in.

441
00:37:37,400 --> 00:37:40,376
[Inaudible]

442
00:37:40,370 --> 00:37:56,760
[Silence]

443
00:37:56,760 --> 00:37:59,192
[inaud] new and create.

444
00:38:00,520 --> 00:38:02,800
Maybe not even new,

445
00:38:03,640 --> 00:38:06,488
Because we're not really displaying anything.

446
00:38:06,480 --> 00:38:11,936
[Melinda thinks]

447
00:38:11,936 --> 00:38:13,930
So let's create our...

448
00:38:17,696 --> 00:38:19,144
[Inaud]

449
00:38:19,140 --> 00:38:36,992
[Silence]

450
00:38:37,120 --> 00:38:42,696
What are we trying to do...
have our show... so here we need to add...

451
00:38:42,930 --> 00:38:54,344
a form for... an answer.

452
00:38:57,256 --> 00:38:59,416
So here we need to create...

453
00:38:59,410 --> 00:39:06,024
[Silence]

454
00:39:06,040 --> 00:39:07,696
[Inaud]

455
00:39:07,904 --> 00:39:20,760
[Melinda thinks]

456
00:39:21,080 --> 00:39:23,856
So I want to do something similar...

457
00:39:23,850 --> 00:39:42,744
[Silence]

458
00:39:42,952 --> 00:39:45,632
I'm not completely sure about that anymore.

459
00:39:45,630 --> 00:39:53,544
[Silence]

460
00:39:53,992 --> 00:39:56,392
So question answers...

461
00:39:56,390 --> 00:40:00,896
[Silence]

462
00:40:00,890 --> 00:40:03,392
Alright, and then we wanted the...

463
00:40:06,120 --> 00:40:07,680
radio button tag.

464
00:40:07,680 --> 00:40:19,088
[Melinda looks for the radio button]

465
00:40:19,256 --> 00:40:21,256
I'm pretty sure...

466
00:40:21,250 --> 00:40:28,816
[Silence]

467
00:40:29,256 --> 00:40:32,520
That's actually under public license... rails

468
00:40:34,008 --> 00:40:37,552
form for radio buttons app.

469
00:40:37,550 --> 00:40:53,704
[Silence]

470
00:40:54,000 --> 00:41:00,784
DN: I suppose what we really want is add...
I suppose one is true and one is false,

471
00:41:00,780 --> 00:41:05,096
It's [inaud] that we say anything else, but the labels can say yes or no.

472
00:41:05,472 --> 00:41:10,288
MS: Yes, so basically something like that.

473
00:41:11,728 --> 00:41:16,224
So we want a radio button first.

474
00:41:17,632 --> 00:41:22,616
Which... response, true.

475
00:41:24,552 --> 00:41:27,112
And then a label for it.

476
00:41:27,110 --> 00:41:46,328
[Silence]

477
00:41:46,488 --> 00:41:49,944
False...

478
00:41:51,320 --> 00:41:52,504
No.

479
00:41:53,880 --> 00:41:57,552
So I think that should work... No it doesn't.

480
00:41:57,550 --> 00:41:59,832
Oh... my [inaud].

481
00:41:59,830 --> 00:42:18,920
[Silence]

482
00:42:19,048 --> 00:42:20,920
DN: Right.

483
00:42:23,288 --> 00:42:25,790
That looks nice./nMS Yes.

484
00:42:25,790 --> 00:42:34,144
But we can't do anything with it
yet, we've got to add the submit button.

485
00:42:34,140 --> 00:42:41,144
[Silence]

486
00:42:41,140 --> 00:42:47,232
DN: It's interesting that the default [inaud] by the text.

487
00:42:47,230 --> 00:42:48,728
It sort of makes sense in this case.

488
00:42:48,720 --> 00:42:53,168
MS: Yes, but we can change it.

489
00:42:54,192 --> 00:42:55,592
No we cant, not like that.

490
00:42:55,590 --> 00:42:59,720
DN: I think the comma may be needed.

491
00:43:01,392 --> 00:43:03,064
MS: Yes.

492
00:43:03,288 --> 00:43:05,664
Let's have a look, Oh yes it is.

493
00:43:08,176 --> 00:43:08,832
DN: OK.

494
00:43:10,104 --> 00:43:12,616
So is it hitting the right controller?

495
00:43:15,576 --> 00:43:17,064
MS: Yes, it is.

496
00:43:17,064 --> 00:43:19,060
DN: That looks good.

497
00:43:19,880 --> 00:43:24,024
MS: We haven't actually put
anything in the controller yet.

498
00:43:24,020 --> 00:43:26,216
So we have answer.

499
00:43:26,210 --> 00:43:46,256
[Silence]

500
00:43:46,504 --> 00:43:48,896
So we require an answer.

501
00:43:50,672 --> 00:43:54,920
And that should have a...

502
00:43:58,000 --> 00:44:00,208
response.

503
00:44:00,200 --> 00:44:03,184
[Silence]

504
00:44:10,856 --> 00:44:13,480
DN: Dont you just pass in answer [inaud]?

505
00:44:14,904 --> 00:44:17,592
MS: Yes... Oh because we...

506
00:44:21,088 --> 00:44:23,504
And then we [inaud]

507
00:44:23,520 --> 00:44:26,992
[Silence]

508
00:44:27,088 --> 00:44:29,590
I'm not sure that would be [inaud].

509
00:44:29,590 --> 00:44:34,792
[Silence]

510
00:44:34,928 --> 00:44:41,936
DN: So the user is known by the system,
but it's not created in the format at the moment is it?

511
00:44:42,200 --> 00:44:43,930
MS: No, the question will be.

512
00:44:45,424 --> 00:44:50,224
DN: I suppose you could put the
user ID in as a hidden field in the form.

513
00:44:51,088 --> 00:44:53,664
And then it could be treated like the other fields.

514
00:44:53,984 --> 00:44:57,168
MS: Yes, we can.

515
00:44:57,160 --> 00:45:06,400
[Silence]

516
00:45:06,752 --> 00:45:08,688
So just hidden filed tag... yes this.

517
00:45:08,680 --> 00:45:18,648
[Silence]

518
00:45:19,440 --> 00:45:24,632
DN: It is a thought... do we have a current user?

519
00:45:26,460 --> 00:45:28,592
MS: I'm not sure.

520
00:45:29,560 --> 00:45:32,128
I don't think we do.

521
00:45:32,120 --> 00:45:35,752
DN: We have a logged in method
but not a current user method.

522
00:45:36,312 --> 00:45:38,480
MS: No, so let's create that.

523
00:45:38,512 --> 00:45:55,912
[Silence]

524
00:45:56,304 --> 00:45:58,608
[inaud] and session.

525
00:45:58,600 --> 00:46:05,280
[Silence]

526
00:46:05,648 --> 00:46:08,072
MS: That should work.

527
00:46:08,070 --> 00:46:29,648
[Silence]

528
00:46:29,976 --> 00:46:31,920
DN: Answer, that's interesting.

529
00:46:31,920 --> 00:46:35,288
[Silence]

530
00:46:35,584 --> 00:46:38,136
So they've all got [inaud].

531
00:46:40,432 --> 00:46:44,656
DN: User is empty, and response is true
which is good because you clicked yes.

532
00:46:45,168 --> 00:46:47,312
MS: And the question ID is right.

533
00:46:49,064 --> 00:46:51,912
But somehow...

534
00:46:51,910 --> 00:46:56,328
DN: Maybe it's because... when you call radio button tag...

535
00:46:57,328 --> 00:47:00,264
it doesn't put it inside of a [inaud] yet does it?

536
00:47:00,260 --> 00:47:04,024
Wheras if you put f.radio button...

537
00:47:04,020 --> 00:47:21,624
[Silence]

538
00:47:21,620 --> 00:47:26,224
DN: Instead of radio button tag,
I think you can just say radio button.

539
00:47:26,220 --> 00:47:41,456
[Silence]

540
00:47:43,304 --> 00:47:46,792
MS: Oh actually, we were calling that anyway.

541
00:47:46,800 --> 00:47:52,824
[Melinda thinks]

542
00:47:53,392 --> 00:47:55,144
So current user.

543
00:47:55,140 --> 00:48:14,416
[Silence]

544
00:48:14,496 --> 00:48:16,776
DN: Couldn't find user with ID.

545
00:48:16,770 --> 00:48:20,672
[Silence]

546
00:48:20,776 --> 00:48:23,040
DN: Are we actually logged in at the moment?

547
00:48:26,264 --> 00:48:28,376
MS: I thought we were.

548
00:48:30,368 --> 00:48:33,024
No we're not, that explains it.

549
00:48:33,020 --> 00:48:44,136
[Silence]

550
00:48:44,376 --> 00:48:47,256
DN: I wonder, should the hidden field be user ID?

551
00:48:49,104 --> 00:48:50,848
MS: Yes.

552
00:48:51,928 --> 00:48:54,048
That's most probably better.

553
00:48:54,040 --> 00:49:13,192
[Silence]

554
00:49:13,528 --> 00:49:15,832
I think there's something wrong here.

555
00:49:15,830 --> 00:49:33,000
[Silence]

556
00:49:33,360 --> 00:49:35,504
DN: What is it calling merge anyway?

557
00:49:38,712 --> 00:49:40,960
We're up to 73.

558
00:49:43,896 --> 00:49:46,464
MS: Well that's because...

559
00:49:48,304 --> 00:49:50,736
that's the only pre answer it has.

560
00:49:52,936 --> 00:49:54,904
But, I'm going to find...

561
00:49:54,900 --> 00:50:10,128
[Silence]

562
00:50:10,464 --> 00:50:12,896
So our ID is 2.

563
00:50:16,496 --> 00:50:19,176
So let's actually just try to...

564
00:50:19,170 --> 00:50:23,528
[Silence]

565
00:50:23,896 --> 00:50:29,840
look if we can get the current user ID because that part [inaud]

566
00:50:33,768 --> 00:50:37,440
So find current user ID.

567
00:50:38,384 --> 00:50:40,736
DN: So it is finding that OK?
MS: Yes.

568
00:50:42,944 --> 00:50:49,360
DN: I wonder, what if we were
to hard code hidden field to user 2.

569
00:50:49,384 --> 00:50:53,528
[Silence]

570
00:50:53,520 --> 00:50:58,552
DN: So it's not a problem
with current user method is it?

571
00:50:58,976 --> 00:51:02,240
It's something about the
way we're calling hidden field.

572
00:51:02,240 --> 00:51:05,368
Should it be user ID rather than user?

573
00:51:05,360 --> 00:51:08,432
MS: But we tried that... even that.

574
00:51:11,536 --> 00:51:14,240
So there's something...

575
00:51:14,240 --> 00:51:20,400
[Silence]

576
00:51:20,496 --> 00:51:24,928
for and [inaud]

577
00:51:24,976 --> 00:51:32,888
[Silence]

578
00:51:33,248 --> 00:51:35,936
So it was a form for that we're using.

579
00:51:35,930 --> 00:51:48,856
[Silence]

580
00:51:49,184 --> 00:51:51,880
DN: Do we need to say value?

581
00:51:53,512 --> 00:51:55,768
MS: Yes.

582
00:51:55,760 --> 00:52:10,416
[Silence]

583
00:52:12,264 --> 00:52:15,024
So now feed it yes.

